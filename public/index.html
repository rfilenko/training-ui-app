<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>TeskaLabs Training UI App</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="manifest" href="./manifest.json">

    <link rel="shortcut icon" href="./media/favicon/favicon.ico">
    <link rel="apple-touch-icon" sizes="57x57" href="./media/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="./media/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="./media/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="./media/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="./media/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="./media/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="./media/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="./media/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./media/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="./media/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./media/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="./media/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./media/favicon/favicon-16x16.png">

    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="./media/favicon/ms-icon-144x144.png">

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Function to get the meta tag content
        function getMetaContent(name) {
          const metaTag = document.querySelector(`meta[name="${name}"]`);
          return metaTag ? metaTag.getAttribute("content") : null;
        }

        // Splashscreen logo ID reference
        const splashLogo = document.getElementById("app-splashscreen-logo");

        // Get logos from meta tags, if not found use default fallback
        const lightLogo = getMetaContent("sidebar-logo-full") || "./media/logo/sidebar-logo-full.svg";
        const darkLogo = getMetaContent("sidebar-logo-full-dark") || "./media/logo/sidebar-logo-full-dark.svg";

        // Apply the correct logo based on theme
        const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
        splashLogo.style.backgroundImage = `url("${prefersDark ? darkLogo : lightLogo}")`;

        // Listen for theme changes
        window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", (e) => {
          splashLogo.style.backgroundImage = `url("${e.matches ? darkLogo : lightLogo}")`;
        });
      });
    </script>

    <style type="text/css">
html, body {
  margin: 0;
}

#app-splashscreen {
  position: absolute;
  height: 100vh;
  width: 100%;
  z-index: 2000;

  text-align: center;

  display: grid;
  grid-template-columns: 1fr; 
  grid-template-rows: 2fr auto auto 3fr; 
  grid-column-gap: 0px;
  grid-row-gap: 0px;
}


#app-splashscreen-logo {
  width: 100%;
  height: 7.7rem;

  background-repeat: no-repeat;
  background-position-x: center;
  background-position-y: center;

  transform: scale(0.90);
  animation: slideFadeIn 10s forwards 0.3s cubic-bezier(0.390, 0.575, 0.565, 1.000);
}

@keyframes slideFadeIn {
  to {
    transform: scale(1);
  }
}

#app-splashscreen progress {
  margin-top: 1rem;
  width: 30%;
  height: 8px;
}

@media (prefers-color-scheme: dark) {
  #app-splashscreen {
    background-color: #0E1426;  /* --deep-space-blue */
  }

  #app-splashscreen progress {
    accent-color: #7A9CFF;  /* --soft-sky-blue */
  } 
}

@media (prefers-color-scheme: light) {
  #app-splashscreen {
    background-color: #F3F4FA;  /* --polar-mist */
  }

  #app-splashscreen progress {
    accent-color: #3C5CDB;  /* --medium-blue */
  }
}
    </style>

  </head>
  <body>
    <div id="app-splashscreen">
      <div style="grid-area: 2 / 1 / 3 / 2;">
        <div id="app-splashscreen-logo">&nbsp;</div>
      </div>
      <div style="grid-area: 4 / 1 / 4 / 2;">
        <progress>Loading ...</progress>
      </div>
      <noscript>
        You need to enable JavaScript to run this app.
      </noscript>
    </div>
    <div id="app"></div>
  </body>
</html>
